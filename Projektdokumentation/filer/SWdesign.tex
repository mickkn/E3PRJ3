\chapter{Softwaredesign}

\section{Dataprotokol (BS)}\label{header:dataprotokol}
\input{filer/design/sw_dataprotokol}

\section{Applikationsmodeller (JC BS)}
Selve designet af softwaren bygger på de følgende applikationsmodeller. Her laves der sekvens- og klassediagrammer over hver del af systemet samt klassebeskrivelser hvor funktionen for de enkelte metoder beskrives.

\input{filer/design/sw_applikationsmodel}

% Klassebeskrivelser
\subsection{Klassebeskrivelser}
Her følger klassebeskrivelser for de udledte klasser fra applikationsmodellerne.

% Master
\subsubsection{Master (JC)}
\input{filer/design/sw_klasseSPI}
\input{filer/design/sw_klasseUI}
\input{filer/design/sw_devControllers}
\input{filer/design/sw_domain}

% Enhed
\subsubsection{Enhed (BS)}
Her følger klassebeskrivelser til Enhed. 
Bemærk at alt kode til PSoC er skrevet i \verb+C+, hvorfor det ikke er muligt at lave klasser. Beskrivelserne tager dog udgangspunkt i \verb-C++-, men skal fortolkes iht. beskrivelsen i \textit{UML-Light}\footnote{T-133 UML-Light af Finn Overgaard Hansen. Benyttet i forbindelse med faget I1OPRG (Objektorienteret PRoGrammering) på 1. semester.} 

\input{filer/design/sw_psoc_controller}
\input{filer/design/sw_psoc_domain}
\input{filer/design/sw_psoc_boundary}


\section{SPI (MK PO)}

Her er design af softwaren til SPI dokumenteret. Kernemodulet, Driver og API til Master og en Handler til Enheden.

% SPI Kernemodul + Driver

\subsection{SPI Kernemodul og driver}
\input{filer/design/sw_spi_kernedriver}

% SPI API

\subsection{SPI API}
\input{filer/design/sw_spi_api}


% SPI HANDLER

\subsection{SPI Handler}
\input{filer/design/sw_spi_handler}