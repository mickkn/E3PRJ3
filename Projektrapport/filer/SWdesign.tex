\newpage
\section{Softwaredesign (BS JC)}

\subsection{Applikationsmodel}
I softwaredesign-fasen laves applikationsmodeller for de forskellige use cases, for at få et overblik over hvilke metoder og funktioner der skal bruges. Applikationsmodellen består af, at man først laver sekvensdiagrammer for hver use case. Hvis det findes nødvendigt for at få et overblik kan der også laves state machine-diagrammer over hver use case. Dette er ikke vurderet nødvendigt hvorfor det er udeladt.

Næste step i applikationsmodellen er at få alle metode-kald i sekvensdiagrammerne, over i et klassediagram. Dette klassediagram er ment som et overblik, som kan benyttes når der arbejdes med den endelige klassebeskrivelse.

I klassebeskrivelsen besluttes der så hvilke datatyper der ønskes i de forskellige klasser og hvad de enkelte klasser hver i sær har ansvar for. Når klassebeskrivelserne er udarbejdet vil resultatet være et, endeligt, statisk klassediagram. Se dokumentationen afsnit 6.2 Applikationsmodeller for detaljer.

\figur{1}{a_uc2}{Sekvensdiagram fra applikationsmodel}{fig:devkit_a_uc2}

I figur \ref{fig:devkit_a_uc2} ses et eksempel på et sekvensdiagram udviklet i applikationsmodellen. Sekvensdiagrammet er lavet ud fra use case 2: Konfig. Den viser alle de involverede klasser og metode-kaldene imellem dem.

På figur \ref{fig:devkit_class} ses det konceptuelle klassediagram som er udviklet i applikationsmodellen.

\figur{1}{sw_class_devkit}{klassediagram fra applikationsmodellen}{fig:devkit_class}

Applikationsmodellen er benyttet både til softwaredesign af koden til Devkit8000 og PSoC4. Det er dog to forskellige frameworks der arbejdes i, men dette har ingen indflydelse på applikationsmodellen, da denne beskæftiger sig med konceptet i hvordan koden skal fungere og ikke implementeringen af denne. På PSoC4 er det ikke muligt at arbejde i \verb-C++- og med objekt orienteret programmering som dokumentationen lægger op til. Dette løses ved at fortolke klassebeskrivelsen iht. UML-Light\footnote{T-133 UML-Light, Finn Overgaard Hansen, 2013, Ingeniørhøjskolen Aarhus Universitet}.

\subsection{Klassebeskrivelser}

Efter applikationsmodellen blev klasserne beskrevet. Hver klasse har et overordnet ansvar. F.eks har controller-klassen, \verb+Config+ som blev beskrevet på figur \ref{fig:devkit_a_uc2}, ansvaret for at styre UC2. Hver metode i klassen har således en beskrivelse af hvad metoden skal gøre, hvilke parametre den modtager og hvad metoden returnerer. Over hele projektet er det aftalt, at alle metoder skal returnere en integer for at der kunne laves fejl-tjek på dem. Det vil sige at når metoderne skal modulere noget data som denne fik tilsendt, så skal det være en pointer den modtager.

Efter klassebeskrivelserne er det konceptuelle klassediagram, med alle de nye medlemsdata, parametre og datatyper der benyttes i de pågældende klasser, blevet opdateret. Det nye, opdaterede, klassediagram kan ses på figur \ref{fig:sw_class_static} i softwareimplementeringen, afsnit \ref{head:sw_impl}. Se alle klassebeskrivelser i dokumentationen afsnit 6.2.3 Klassebeskrivelser.

%SPI
\input{filer/design/sw_spi}